import { useState } from 'react';

// 中英文翻译配置
export const translations = {
  zh: {
    // 通用
    home: '首页',
    academics: '学业',
    calendar: '日历',
    health: '健康',
    ai: 'AI助手',
    activities: '活动',
    email: '邮件',
    settings: '设置',
    
    // 学生端
    student: {
      dashboard: '学生仪表板',
      welcome: '欢迎回来',
      overview: '概览',
      courses: '课程',
      todos: '待办事项',
      upcomingEvents: '即将到来的活动',
      recentEmails: '最近邮件',
      currentCourses: '当前课程',
      completedCourses: '已完成课程',
      progress: '进度',
      nextDeadline: '下一个截止日期',
      lecturer: '讲师',
      grade: '成绩',
      credits: '学分',
      semester: '学期',
      finalGrade: '最终成绩',
      components: '成绩组成',
      upcoming: '即将到来',
      completed: '已完成',
      overdue: '已逾期',
      highPriority: '高优先级',
      mediumPriority: '中优先级',
      lowPriority: '低优先级',
      today: '今天',
      thisWeek: '本周',
      thisMonth: '本月',
      location: '地点',
      time: '时间',
      type: '类型',
      lecture: '讲座',
      lab: '实验课',
      tutorial: '研讨会',
      seminar: '研讨会',
      exam: '考试',
      unread: '未读',
      read: '已读',
      urgent: '紧急',
      academic: '学术',
      events: '活动',
      sender: '发件人',
      subject: '主题',
      date: '日期',
      profile: '个人资料',
      notifications: '通知',
      language: '语言',
      theme: '主题',
      privacy: '隐私',
      logout: '登出',
      light: '浅色',
      dark: '深色',
      system: '跟随系统',
      shareGrades: '共享成绩',
      shareGradesDesc: '与家长共享成绩信息',
      shareSchedule: '共享日程',
      shareScheduleDesc: '与家长共享课程表',
      shareHealth: '共享健康数据',
      shareHealthDesc: '与家长共享健康信息',
      aiAssistant: 'AI学习助手',
      askQuestion: '问我任何问题...',
      send: '发送',
      healthMetrics: '健康指标',
      day: '今日',
      week: '本周',
      month: '本月',
      sleepDuration: '睡眠时长',
      steps: '步数',
      focusTime: '专注时长',
      stressLevel: '压力水平',
      hours: '小时',
      good: '良好',
      active: '活跃',
      efficient: '高效',
      relaxed: '放松',
      activitiesPage: '校园活动',
      allActivities: '全部活动',
      filterByType: '按类型筛选',
      academicCompetition: '学术竞赛',
      academicLecture: '学术讲座',
      clubActivity: '社团活动',
      volunteerService: '志愿服务',
      culturalActivity: '文化活动',
      careerDevelopment: '职业发展',
      sportsEvent: '体育赛事',
      academicSeminar: '学术研讨',
      healthActivity: '健康活动',
      festivalEvent: '节日活动',
      description: '描述',
    },
    
    // 家长端
    parent: {
      dashboard: '家长仪表板',
      childName: '孩子姓名',
      academicPerformance: '学业表现',
      currentAverage: '当前平均分',
      gpa: '绩点',
      rank: '排名',
      coursesInProgress: '进行中的课程',
      completedThisSemester: '本学期已完成',
      upcomingDeadlines: '即将到来的截止日期',
      recentActivity: '最近活动',
      weeklySchedule: '每周日程',
      healthOverview: '健康概况',
      todaySchedule: '今日日程',
      noCourses: '今天没有课程',
      viewFullCalendar: '查看完整日历',
      quickActions: '快速操作',
      messageTeacher: '联系老师',
      viewReports: '查看报告',
      scheduleConsultation: '预约咨询',
      viewAllActivities: '查看所有活动',
      academicProgress: '学业进度',
      courseList: '课程列表',
      currentGrade: '当前成绩',
      attendanceRate: '出勤率',
      assignments: '作业',
      assignmentsDue: '待完成作业',
      completed: '已完成',
      pending: '待完成',
      calendarView: '日历视图',
      healthData: '健康数据',
      dailySteps: '每日步数',
      sleepQuality: '睡眠质量',
      activityLevel: '活动水平',
      emotionalState: '情绪状态',
      aiChat: 'AI助手聊天',
      askAboutChild: '询问关于孩子的问题...',
      recentMessages: '最近消息',
      inbox: '收件箱',
      accountSettings: '账户设置',
      preferences: '偏好设置',
      parentAccount: '家长账户',
      emailNotifications: '邮件通知',
      emailNotificationsDesc: '接收重要更新的邮件通知',
      pushNotifications: '推送通知',
      pushNotificationsDesc: '接收即时推送通知',
      weeklyReport: '周报',
      weeklyReportDesc: '每周接收学习报告',
      languageSettings: '语言设置',
      selectLanguage: '选择语言',
      chinese: '简体中文',
      english: 'English',
      appearanceSettings: '外观设置',
      dataPrivacy: '数据隐私',
      about: '关于',
      version: '版本',
      exportData: '导出数据',
      exportHealthData: '导出健康数据',
      exportAcademicData: '导出学业数据',
      dailyAverage: '日均',
      totalFocusTime: '总专注时长',
      averageStress: '平均压力',
      regular: '规律',
      veryActive: '非常活跃',
      stable: '平稳',
      low: '低',
      lower: '较低',
      veryRegular: '非常规律',
      veryEfficient: '非常高效',
    }
  },
  
  en: {
    // Common
    home: 'Home',
    academics: 'Academics',
    calendar: 'Calendar',
    health: 'Health',
    ai: 'AI Assistant',
    activities: 'Activities',
    email: 'Email',
    settings: 'Settings',
    
    // Student
    student: {
      dashboard: 'Student Dashboard',
      welcome: 'Welcome back',
      overview: 'Overview',
      courses: 'Courses',
      todos: 'To-dos',
      upcomingEvents: 'Upcoming Events',
      recentEmails: 'Recent Emails',
      currentCourses: 'Current Courses',
      completedCourses: 'Completed Courses',
      progress: 'Progress',
      nextDeadline: 'Next Deadline',
      lecturer: 'Lecturer',
      grade: 'Grade',
      credits: 'Credits',
      semester: 'Semester',
      finalGrade: 'Final Grade',
      components: 'Grade Components',
      upcoming: 'Upcoming',
      completed: 'Completed',
      overdue: 'Overdue',
      highPriority: 'High Priority',
      mediumPriority: 'Medium Priority',
      lowPriority: 'Low Priority',
      today: 'Today',
      thisWeek: 'This Week',
      thisMonth: 'This Month',
      location: 'Location',
      time: 'Time',
      type: 'Type',
      lecture: 'Lecture',
      lab: 'Lab',
      tutorial: 'Tutorial',
      seminar: 'Seminar',
      exam: 'Exam',
      unread: 'Unread',
      read: 'Read',
      urgent: 'Urgent',
      academic: 'Academic',
      events: 'Events',
      sender: 'Sender',
      subject: 'Subject',
      date: 'Date',
      profile: 'Profile',
      notifications: 'Notifications',
      language: 'Language',
      theme: 'Theme',
      privacy: 'Privacy',
      logout: 'Logout',
      light: 'Light',
      dark: 'Dark',
      system: 'System',
      shareGrades: 'Share Grades',
      shareGradesDesc: 'Share grade information with parents',
      shareSchedule: 'Share Schedule',
      shareScheduleDesc: 'Share course schedule with parents',
      shareHealth: 'Share Health Data',
      shareHealthDesc: 'Share health information with parents',
      aiAssistant: 'AI Learning Assistant',
      askQuestion: 'Ask me anything...',
      send: 'Send',
      healthMetrics: 'Health Metrics',
      day: 'Today',
      week: 'This Week',
      month: 'This Month',
      sleepDuration: 'Sleep Duration',
      steps: 'Steps',
      focusTime: 'Focus Time',
      stressLevel: 'Stress Level',
      hours: 'hours',
      good: 'Good',
      active: 'Active',
      efficient: 'Efficient',
      relaxed: 'Relaxed',
      activitiesPage: 'Campus Activities',
      allActivities: 'All Activities',
      filterByType: 'Filter by Type',
      academicCompetition: 'Academic Competition',
      academicLecture: 'Academic Lecture',
      clubActivity: 'Club Activity',
      volunteerService: 'Volunteer Service',
      culturalActivity: 'Cultural Activity',
      careerDevelopment: 'Career Development',
      sportsEvent: 'Sports Event',
      academicSeminar: 'Academic Seminar',
      healthActivity: 'Health Activity',
      festivalEvent: 'Festival Event',
      description: 'Description',
    },
    
    // Parent
    parent: {
      dashboard: 'Parent Dashboard',
      childName: "Child's Name",
      academicPerformance: 'Academic Performance',
      currentAverage: 'Current Average',
      gpa: 'GPA',
      rank: 'Rank',
      coursesInProgress: 'Courses in Progress',
      completedThisSemester: 'Completed This Semester',
      upcomingDeadlines: 'Upcoming Deadlines',
      recentActivity: 'Recent Activity',
      weeklySchedule: 'Weekly Schedule',
      healthOverview: 'Health Overview',
      todaySchedule: "Today's Schedule",
      noCourses: 'No courses today',
      viewFullCalendar: 'View Full Calendar',
      quickActions: 'Quick Actions',
      messageTeacher: 'Message Teacher',
      viewReports: 'View Reports',
      scheduleConsultation: 'Schedule Consultation',
      viewAllActivities: 'View All Activities',
      academicProgress: 'Academic Progress',
      courseList: 'Course List',
      currentGrade: 'Current Grade',
      attendanceRate: 'Attendance Rate',
      assignments: 'Assignments',
      assignmentsDue: 'Assignments Due',
      completed: 'Completed',
      pending: 'Pending',
      calendarView: 'Calendar View',
      healthData: 'Health Data',
      dailySteps: 'Daily Steps',
      sleepQuality: 'Sleep Quality',
      activityLevel: 'Activity Level',
      emotionalState: 'Emotional State',
      aiChat: 'AI Assistant Chat',
      askAboutChild: 'Ask about your child...',
      recentMessages: 'Recent Messages',
      inbox: 'Inbox',
      accountSettings: 'Account Settings',
      preferences: 'Preferences',
      parentAccount: 'Parent Account',
      emailNotifications: 'Email Notifications',
      emailNotificationsDesc: 'Receive email notifications for important updates',
      pushNotifications: 'Push Notifications',
      pushNotificationsDesc: 'Receive instant push notifications',
      weeklyReport: 'Weekly Report',
      weeklyReportDesc: 'Receive weekly learning reports',
      languageSettings: 'Language Settings',
      selectLanguage: 'Select Language',
      chinese: '简体中文',
      english: 'English',
      appearanceSettings: 'Appearance Settings',
      dataPrivacy: 'Data Privacy',
      about: 'About',
      version: 'Version',
      exportData: 'Export Data',
      exportHealthData: 'Export Health Data',
      exportAcademicData: 'Export Academic Data',
      dailyAverage: 'Daily Avg',
      totalFocusTime: 'Total Focus Time',
      averageStress: 'Average Stress',
      regular: 'Regular',
      veryActive: 'Very Active',
      stable: 'Stable',
      low: 'Low',
      lower: 'Lower',
      veryRegular: 'Very Regular',
      veryEfficient: 'Very Efficient',
    }
  }
};

// 获取翻译文本的辅助函数
export const getTranslation = (lang, key, role = 'student') => {
  const keys = key.split('.');
  let value = translations[lang];
  
  // 如果第一个key不是role,则添加role前缀
  if (keys[0] !== role && keys[0] !== 'student' && keys[0] !== 'parent') {
    keys.unshift(role);
  }
  
  for (const k of keys) {
    if (value && typeof value === 'object') {
      value = value[k];
    } else {
      break;
    }
  }
  
  return value || key;
};

// React Hook for translations
export const useTranslation = (initialLang = 'zh', role = 'student') => {
  const [language, setLanguage] = useState(initialLang);
  
  const t = (key) => getTranslation(language, key, role);
  
  return { language, setLanguage, t };
};
